<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Date Night for Dummies - Itinerary</title>
  <meta name="keywords" content="date,night,events,restaurant,eat,food,discover,find,search" />
  <meta name="description" content="TODO: Add description here!" />
  <meta name="subject" content="Date Night" />
  <meta name="language" content="en" />
  <meta name="robots" content="index,follow" />
  <meta name="googlebot" content="index,follow" />
  <meta name="classification" content="search" />
  <meta name="rating" content="General" />
  <meta name="referrer" content="never" />
  <!-- Stylesheets -->
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.3/css/uikit.min.css" />
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.1/css/all.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css"/>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.3/css/uikit.min.css" />
  <link rel="stylesheet" type="text/css" href="assets/css/itinerary.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="assets/js/itinerary.js"></script>
</head>

<body>
  <div id="itinerary-loading-display">
  </div>
  <div class="d-none" id="itinerary-main-content">
    <div class="container">
      <div class="row">
        <div class="col-lg">
        </div>
        <div class="col-lg">
          <nav class="navbar" id="navbar1">
            <span class="navbar-brand mb-0 h1">Your Date!</span>
          </nav>
          <div class="card" id="event-card" style="width: 21.5rem;" id="event-chosen">
            <img class="card-img-top" src="assets/images/bg-image.jpg" alt="Card image cap" />
            <div class="card-body">
              <h5 class="card-title">{{Event.title}}</h5>
              <p class="card-text">
                {{Event.details}}
              </p>
              <a href="#" class="btn btn-light" id="event-button">Tickets</a>
            </div>
          </div>
        </div>
        <div class="col-lg">
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-lg">
        </div>
        <div class="col-lg">
          <div class="card" id="rest-card" style="width: 21.5rem;" id="rest-chosen">
            <img class="card-img-top" src="assets/images/rest-2.jpeg" alt="Card image cap" />
            <div class="card-body">
              <h5 class="card-title">{{restaurant.title}}</h5>
              <p class="card-text">
                {{restaurant.details}}
              </p>
              <a href="#" class="btn btn-light" id="rest-button">Reservations</a>
            </div>
          </div>
        </div>
        <div class="col-lg">
        </div>
      </div>
    </div>
  </div>

    <!-- Success Stories HTML -->
    <div class="container">
      <div class="row">
        <div class="col-lg">
        </div>
        <div class="col-lg">
          <nav class="navbar" id="navbar2">
            <span class="navbar-brand mb-0 h1">See Our Success Stories</span>
          </nav>
          <div id="success-stories" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
              <div class="carousel-item active">
                <div class="card" id="card1" style="width: 21.5rem;">
                  <div class="card-body" id="success-card">
                    <p class="card-text" id="card-01">
                    </p>
                    <br>
                  </div>
                </div>
              </div>
              <div class="carousel-item">
                <div class="card" id="card2" style="width: 21.5rem;">
                  <div class="card-body">
                    <p class="card-text">
                    </p>
                  </div>
                </div>
              </div>
              <div class="carousel-item">
                <div class="card" id="card3" style="width: 21.5rem;">
                  <div class="card-body">
                    <p class="card-text">
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg">
        </div>
      </div>
    </div>
    <div class="container">
          <div class="row">
            <div class="col-lg">
            </div>
            <div class="col-lg">
      <nav class="navbar" id="navbar3">
        <span class="navbar-brand mb-0 h1">Share Your Stories below!</span>
      </nav>
          <div class="the-form">
          <div class="form-group" id="success-story">
            <label for="email-input">Email address</label>
            <input type="email" class="form-control" id="email-input" placeholder="name@example.com" />
          </div>
          <div class="form-group">
            <label for="comment">Let us hear it!</label>
            <textarea class="form-control" id="comment" rows="3"></textarea>
          </div>
          <button type="button" id="submitbtn" class="btn btn-light">
            Success!
          </button>
          </form>
          </div>
        </div>
        <div class="col-lg">
        </div>
      </div>
    </div>
  <script src="https://www.gstatic.com/firebasejs/5.9.2/firebase.js"></script>
  <script>
    // Initialize Firebase

    var config = {
      apiKey: "AIzaSyB7m18QCPh-Hwc5iayRJfByrUvLo2s2Cl0",
      authDomain: "kelly-kapoor.firebaseapp.com",
      databaseURL: "https://kelly-kapoor.firebaseio.com",
      projectId: "kelly-kapoor",
      storageBucket: "kelly-kapoor.appspot.com",
      messagingSenderId: "298814023535"
    };

    firebase.initializeApp(config);

    var dataRef = firebase.database();

    // Initial Values
    //var name = "";
    var email = "";
    var comment = "";

    // var arrResult = [1];
    // var dataRef2 = firebase.database().ref().child('Node').orderByKey();
    // dataRef2.on('value', snapshot => {
    //   snapshot.forEach(childSnapshot => {
    //     console.log(childSnapshot.key);
    //     arrResult.push(childSnapshot.key);
    //   });

    //   console.log(arrResult);
   // });

    $(function () {
      // Firebase watcher + initial loader HINT: This code behaves similarly to .on("value")
      dataRef.ref().once("child_added", function (childSnapshot) {
        // Log everything that's coming out of snapshot
        console.log(childSnapshot.val().comment);
        console.log(childSnapshot.val().emailInput);

        $("#card-01").prepend(
          // " </span><span class='emailInput'> " +
          //   childSnapshot.val().emailInput +
          " </span><span class='comment'> " +
          childSnapshot.val().comment+
          " </span></div>"
        );
        // $("#card2").append(
        //   // " </span><span class='emailInput'> " +
        //   //   childSnapshot.val().emailInput +
        //   " </span><span class='comment'> " +
        //   childSnapshot.val().comment +
        //   " </span></div>"
        // );
        // $("#card3").append(
        //   // " </span><span class='emailInput'> " +
        //   //   childSnapshot.val().emailInput +
        //   " </span><span class='comment'> " +
        //   childSnapshot.val().comment +
        //   " </span></div>"
        // );
        // $('.carousel').carousel({
        //     interval: 2000
      });
    });

    $("#submitbtn").on("click", function (event) {
      event.preventDefault();

      //name = $("#name-input").val().trim();
      emailInput = $("#email-input")
        .val()
        .trim();
      comment = $("#comment")
        .val()
        .trim();

      // Code for the push
      dataRef.ref().push({
        //name: name,
        emailInput: emailInput,
        comment: comment
      });

    });
  </script>
</body>
<!-- Scripts -->
<script defer src="https://www.gstatic.com/firebasejs/5.9.2/firebase.js"></script>

<script defer src=".\assets/js/make-a-match.js"></script>

</html>